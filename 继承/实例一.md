### 场景描述
* 存在CdProduct和BookProduct；
* CdProduct和BookProduct存在一些共同点，比如都可以打印摘要信息，区别是打印方式略有区别；
* CdProduct存在独有的获取播放时长的操作；
* BookProduct存在独有的获取页数的操作。

![未命名文件.png-20.6kB][1]

```php
//商品类
class ShopProduct 
{
	public $title;
	public $producerMainName;
	public $producerFirstName;
	public $price;
	
	function __construct($title, $firstName, $mainName, $price)
	{
		$this->title = $title;
		$this->producerFirstName = $firstName;
		$this->producerMainName = $mainName;
		$this->price = $price;
	}
	
	function getProducer()
	{
		return "{$this->producerFirstName}" . "{$this->producerMainName}";
	}
	
	// 在超类中也实现了getSummaryLine方法来保证所有的ShopProduct类包括其子类都拥有该方法
	function getSummaryLine()
	{
		$base = "$this->title({$this->producerMainName},";
		$base .= "{this->producerFirstName})";
		
		return $base;
	}
}

// Cd商品类
class CdProduct extends ShopProduct
{
	public $playLength;
	
	function __construct($title, $firstName, $mainName, $price, $playLength)
	{
		// 通过调用父类的构造器避免告诉父类任何关于子类的信息
		parent::__construct($title, $firstName, $mainName, $price);
		
		$this->playLength = $playLength;
	}
	
	function getPlayLength()
	{
		return $this->playLength;
	}
	
	function getSummaryLine()
	{
		$base = parent::getSummaryLine();
		$base .= "{: Playing time - {$this->playLength}}";
		
		return $base;
	}
}

// Book商品类
class BookProduct extends ShopProduct
{
	public $numPages;
	
	function __construct($title, $firstName, $mainName, $price, $numPages)
	{
		// 通过调用父类的构造器避免告诉父类任何关于子类的信息
		parent::__construct($title, $firstName, $mainName, $price);
		
		$this->numPages = $numPages;
	}
		
	function getNumberOfPages()
	{
		return $this->numPages;
	}
	
	function getSummaryLine()
	{
		$base = parent::getSummaryLine();
		$base .= "{: page count - {$this->numPages}}";
		
		return $base;
	}
}
```

// 在外部需要明确类名来区分不同的类
$CdProduct = new CdProduct("My Antonia", "Willa", "Cather", 5.99, 10);
$CdProduct->getSummaryLine();
$CdProduct->getPlayLength();

$BookProduct = new $BookProduct("Alex", "Pierre", "Lemaitre", 59, 416);
$BookProduct->getSummaryLine();
$BookProduct->getNumberOfPages();

  [1]: http://static.zybuluo.com/Minc0/0ovxghbzz0y45n61u36pbf66/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6.png